#labels Phase-Implementation
=Technic Documentation=

<wiki:toc max_depth="4" />

Project is divided into 3 parts:
 * *fwk* : framework
 * *gui* : user interface
 * *monde* : "business", or model

This is a little bit kind of a MVC, where framework represents the controler layer, but it is mainly the technical container for Zildo, first of all.

The GUI part, still short, stands for everything surrounding game visual, in addition of tiles and sprites.

All the RPG side, qualified as "business", is in the [http://code.google.com/p/zildo/source/browse/trunk/src/zildo/monde/ "monde"] package.

==zildo.monde==

===1.1) Les tiles===

Les tiles sont les "tuiles" de 16x16 qui composent la carte où les protagonistes de Zildo se déplacent.

On distingue les tiles de premier plan et d'arrière plan. Ce qui est au premier plan peut cacher une partie des éléments qui sont proches. Par exemple, si Zildo se trouve vers un arbre, c'est l'arbre qui cachera Zildo. De même pour une porte de maison, où l'entrée d'un village.

Les tiles peuvent être animées, comme les fleurs, où l'eau sur le rivage.

La classe qui modélise ces tiles est la classe [http://code.google.com/p/zildo/source/browse/trunk/src/zildo/monde/Case.java Case].

===1.2) Les sprites===

La classe qui régit tout sprite, du plus statique au plus évolué, hérite de la classe `SpriteEntity`. Cette classe représente les infos minimales pour modéliser une entité quelconque sur une carte.

Depuis cette classe, on déroule pour complexifier la notion d'entité et on observe la hiérarchie de classe suivante:
{{{
SpriteEntity
|
+->Element
   |
   +->Perso
}}}
On a là les 3 classes essentielles de toute entité qui peut se trouver sur une carte.

 ====a/ `SpriteEntity` [http://code.google.com/p/zildo/source/browse/trunk/src/zildo/monde/decors/SpriteEntity.java (SVN)]====

La première représente les éléments statiques, qui ne se déplacent pas, et ne bloquent pas le passage. On trouvera par exemple : les feuilles des buissons qui s'éparpillent, la fumée qui se dissipe d'une cheminée, ...

Cette classe dispose de coordonnées (X, Y) à l'écran, d'informations sur son visuel, et divers indicateurs (visible, premier/arrière plan, effet spécial...)

 ====b/ `Element` [http://code.google.com/p/zildo/source/browse/trunk/src/zildo/monde/decors/Element.java (SVN)]====

Il s'agit d'une entité plus particulière, qui peut se mouvoir dans le monde. Elle est sujette aux lois de la mécanique. De plus, elle peut être bloquante pour les autres éléments de la carte.

Elle dispose de coordonnées dans le monde (X, Y, Z), de vitesse, d'accélération, et de forces de frottements. Elle peut être liée à une autre entité.

 ====c/ `Perso` [http://code.google.com/p/zildo/source/browse/trunk/src/zildo/monde/persos/Perso.java (SVN)]====

La classe de base la plus évoluée pour représenter un personnage sur une carte. On a ici des infos sur le comportement, la zone d'action, le caractère hostile/amical, ou encore le dialogue du personnage.

 ====d/ Hiérarchie plus complète====

Ces classes de base s'étoffent par d'autres classes qui représentent des personnages plus précis, dans leur comportement, ou leur représentation graphique. Voici une hiérarchie plus détaillée.

[http://lh4.ggpht.com/_q_5wHG9LsPk/SfRjrW3Cf_I/AAAAAAAABJE/Q02fzQO9vtk/s800/spriteClassesHierarchy.JPG]

On voit que les personnages se scindent en 2 catégories:
 * les non joueurs (`PersoNJ`)
 * les joueurs (`PersoZildo`) qui n'existent qu'en un seul exemplaire pour l'instant